{% extends "layout/base.html" %}
{% import "block/_macros.html" as macros %}

{% block sidebar %}
	{% include 'products/_sub_menu.html' %}
{% endblock %}

{% block mainbar %}
<div class="form-page">
	<h2 class="page-header">
		{% if mode == 'create' %}
		{{ _('Add Category') }}
		{% else %}
		{{ _('Edit Category') }}
		{% endif %}

		<span class="pull-right">
			<button type="submit" form="category-form" class="btn btn-icon btn-primary" data-toggle="tooltip" data-original-title="{{ _('Save') }}">
				<i class="glyphicon glyphicon-floppy-save"></i>
			</button>
			<a href="{{ url_for('main.show_categories') }}" class="btn btn-icon btn-default" data-toggle="tooltip" data-original-title="{{ _('Cancel') }}">
				<i class="glyphicon glyphicon-share-alt"></i>
			</a>
		</span>
	</h2>

	<form id="category-form" class="form-horizontal" action="" method="post">
		<input type="hidden" name="csrf_token" value="{{ csrf_token() }}" >

		<div class="form-group form-group-lg required {% if form.errors.name %} has-error{% endif %}">
			{{ form.name.label(class="col-sm-2 control-label") }}
			<div class="col-sm-6">
				{{ form.name(id="name", class="form-control") }}
				{% for error in form.errors.name %}
				<span class="help-block">{{ error }}</span>
				{% endfor %}
			</div>
		</div>

		<div class="form-group m-b-25">
			{{ form.pid.label(class="col-sm-2 control-label") }}
			<div class="col-sm-6">
				<select name="pid" id="pid" class="form-control select2">
					<option value="0">Select ...</option>
					{% for cate in paginated_categories %}
					<option value="{{ cate.id }}" {% if cate.id == category.pid %}selected="selected"{% endif %}>{{ cate.name|safe }}</option>
					{% endfor %}
				</select>
			</div>
		</div>

		<div class="form-group form-group-lg">
			{{ form.sort_order.label(class="col-sm-2 control-label") }}
			<div class="col-sm-6">
				{{ form.sort_order(id="sort_order", class="form-control") }}
				<span class="help-block">{{ _('The larger the value, the better the sorting') }}</span>
			</div>
		</div>

		<div class="form-group m-b-25">
			{{ form.status.label(class="col-sm-2 control-label") }}
			<div class="col-sm-6">
				{{ form.status(id="status", class="form-control select2") }}
			</div>
		</div>

		<div class="form-group form-group-lg">
			{{ form.description.label(class="col-sm-2 control-label") }}
			<div class="col-sm-10">
				{{ form.description(id="description", class="form-control") }}
			</div>
		</div>


	</form>

</div>
{% endblock %}