{% extends "layout/base.html" %}

{% block sidebar %}
	{% include 'stats/_sub_menu.html' %}
{% endblock %}

{% block private_js %}
<!-- 引入 ECharts 文件 -->
<script src="{{ url_for('static', filename='js/echarts.min.js') }}" type="text/javascript"></script>
{% endblock %}

{% block jquery %}
{#<script type="text/javascript">#}
	// 基于准备好的dom，初始化echarts实例
	var world_map_chart = echarts.init(document.getElementById('world-map'));

	// 指定图表的配置项和数据
	var option = {
		title: {
			text: 'Order for the last 30 days'
		},
		tooltip: {},
		legend: {
			data:['销量']
		},
		xAxis: {
			data: ["消费电子",'智能产品', '家居', '厨房', "衬衫", "羊毛衫","雪纺衫","裤子","高跟鞋","袜子"]
		},
		yAxis: {},
		series: [{
			name: '销量',
			type: 'bar',
			data: [5, 20, 24, 18, 50, 34, 36, 10, 5, 20, 24, 18, 50, 18, 50, 34, 36, 10, 34, 36, 10, 10, 20, 18, 50, 34, 36, 10, 10, 20]
		}]
	};

	// 使用刚指定的配置项和数据显示图表。
	world_map_chart.setOption(option);

{#</script>#}
{% endblock %}

{% block mainbar %}
<div class="list-page">
	<h2 class="page-header">
		{{ _('Stat charts') }}
		<span class="pull-right">
			<button class="btn btn-default" type="button" data-toggle="tooltip" title="" data-original-title="{{ _('Refresh') }}">
				<i class="glyphicon glyphicon-refresh"></i>
			</button>
		</span>
	</h2>

	<div class="row">
		<div class="col-md-12">
			<div class="card m-b-20">
				<div class="card-block">
					<h3 class="card-title">{{ _('Master Sales') }}</h3>
					<div class="col-md-3">{{_('销售收入')}}：{{ master_statistics.income or '--' }}</div>
					<div class="col-md-3">{{_('销售同比')}}：{{ master_statistics.income_yoy or '--' }}%</div>
					<div class="col-md-3">{{_('利润')}}：{{master_statistics.profit or '--'}}</div>
					<div class="col-md-3">{{_('利润同比')}}：{{ master_statistics.profit_yoy or '--' }}%</div>
				</div>
			</div>

			<div class="card m-b-20">
				<div class="card-block">
					<h3 class="card-title">{{ _('各部门销售') }}</h3>
					<table class="table table-hover">
					<th>
						<td>店铺</td>
						<td>收入</td>
						<td>收入同比</td>
						<td>收入环比</td>
						<td>利润</td>
						<td>利润同比</td>
						<td>利润环比</td>
					</th>
					{% for store in store_statistics %}
					<tr>
						<td></td>
						<td>{{ store.store_id }}</td>
						<td>{{store.income}}</td>
						<td>{{store.income_yoy or '--'}}%</td>
						<td>{{store.income_mom or '--'}}%</td>
						<td>{{store.profit}}</td>
						<td>{{store.profit_yoy or '--'}}%</td>
						<td>{{store.profit_mom or '--'}}%</td>
					</tr>
					{% endfor %}
					</table>
					
				</div>
			</div>

			<div class="card m-b-20">
				<div class="card-block">
					<h3 class="card-title">{{ _('World Map') }}</h3>
					<div id="world-map" style="width: 600px;height:400px;"></div>
				</div>
			</div>

			<div class="card m-b-20">
				<div class="card-block">
					<h3 class="card-title">{{ _('Sales Analytics') }}</h3>


				</div>
			</div>

		</div>
	</div>

</div>
{% endblock %}